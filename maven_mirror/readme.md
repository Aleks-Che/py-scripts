# Maven Mirror

Набор скриптов для создания локального зеркала Maven-репозитория и управления зависимостями.

## Описание

Данный проект состоит из двух основных скриптов:

1. `create_dependencies_list.py` - скрипт для получения списка всех доступных артефактов из Maven Central
2. `maven_mirror.py` - скрипт для скачивания артефактов и создания локального зеркала Maven-репозитория

## Скрипт create_dependencies_list.py

### Назначение

Скрипт предназначен для создания полного списка доступных артефактов из Maven Central Repository. Он использует API поиска Maven для получения информации о всех доступных артефактах и сохраняет их в JSON-файл.

### Особенности

- Постраничная загрузка данных с использованием API Maven Central
- Сохранение прогресса загрузки для возможности продолжения после прерывания
- Отображение прогресса загрузки с помощью tqdm
- Обработка сигналов прерывания для корректного завершения работы

```bash
python create_dependencies_list.py
```

## Скрипт maven_mirror.py

### Назначение

Скрипт предназначен для создания локального зеркала Maven-репозитория на основе списка зависимостей, полученного с помощью `create_dependencies_list.py`. Он скачивает JAR-файлы, POM-файлы, исходники, документацию и метаданные для каждого артефакта.

### Особенности

- Проверка наличия новых версий артефактов
- Возможность продолжения загрузки прерванных файлов
- Обработка ошибок и повторные попытки загрузки
- Сохранение информации об обновленных версиях артефактов
- Пропуск уже загруженных артефактов

### Параметры

- `BASE_URL` - базовый URL Maven-репозитория (по умолчанию "https://repo1.maven.org/maven2/")
- `DEPENDENCIES_FILE` - имя файла со списком зависимостей (по умолчанию "dependencies.json")
- `UPDATED_DEPENDENCIES_FILE` - имя файла для сохранения обновленных зависимостей (по умолчанию "updated_dependencies.json")
- `DOWNLOAD_DIR` - директория для сохранения загруженных файлов (по умолчанию "L:/maven_mirror")
- `MAX_RETRIES` - максимальное количество повторных попыток загрузки (по умолчанию 3)
- `RETRY_DELAY` - задержка между повторными попытками в секундах (по умолчанию 5)
- `CHECK_NEW_VERSIONS` - флаг для проверки наличия новых версий артефактов (по умолчанию True)
- `START_ARTIFACT_INDEX` - индекс артефакта, с которого начинать скачивание (по умолчанию 0)

### Использование

```bash
python maven_mirror_with_version_check.py
```
